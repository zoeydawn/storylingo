import{b as gt,c as W,a as k,f as G,s as C,e as E}from"../chunks/7vpOr-8R.js";import{i as tt}from"../chunks/CN82yqVR.js";import{X as pt,G as _t,aN as ht,aB as bt,a6 as mt,a as U,aO as xt,aP as wt,aQ as yt,aw as ct,a1 as $t,a8 as kt,O as P,p as J,j as X,k as Y,m as g,n as d,s as N,t as q,w as Lt,g as M,P as Tt,R as B,af as St}from"../chunks/ZIxVAD3j.js";import{s as It,r as Nt,p as st,b as K,a as et,i as D}from"../chunks/DpJNoy2a.js";import{I as At,s as Ct,$ as at,e as nt}from"../chunks/DRn3GchK.js";import{l as Et,s as ot,a as Gt,c as it,e as Ft}from"../chunks/BD9XyX4O.js";import{b as Ot,r as Mt,g as Bt}from"../chunks/tKaaEpDf.js";const jt=()=>performance.now(),A={tick:e=>requestAnimationFrame(e),now:()=>jt(),tasks:new Set};function ut(){const e=A.now();A.tasks.forEach(t=>{t.c(e)||(A.tasks.delete(t),t.f())}),A.tasks.size!==0&&A.tick(ut)}function Rt(e){let t;return A.tasks.size===0&&A.tick(ut),{promise:new Promise(a=>{A.tasks.add(t={c:e,f:a})}),abort(){A.tasks.delete(t)}}}function V(e,t){ct(()=>{e.dispatchEvent(new CustomEvent(t))})}function zt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function lt(e){const t={},a=e.split(";");for(const s of a){const[n,f]=s.split(":");if(!n||f===void 0)break;const r=zt(n.trim());t[r]=f.trim()}return t}const Pt=e=>e;function j(e,t,a,s){var n=(e&wt)!==0,f=(e&yt)!==0,r=n&&f,p=(e&xt)!==0,L=r?"both":n?"in":"out",m,l=t.inert,x=t.style.overflow,c,_;function w(){return ct(()=>m??=a()(t,s?.()??{},{direction:L}))}var v={is_global:p,in(){if(t.inert=l,!n){_?.abort(),_?.reset?.();return}f||c?.abort(),V(t,"introstart"),c=Z(t,w(),_,1,()=>{V(t,"introend"),c?.abort(),c=m=void 0,t.style.overflow=x})},out(T){if(!f){T?.(),m=void 0;return}t.inert=!0,V(t,"outrostart"),_=Z(t,w(),c,0,()=>{V(t,"outroend"),T?.()})},stop:()=>{c?.abort(),_?.abort()}},i=pt;if((i.transitions??=[]).push(v),n&&gt){var o=p;if(!o){for(var u=i.parent;u&&(u.f&_t)!==0;)for(;(u=u.parent)&&(u.f&ht)===0;);o=!u||(u.f&bt)!==0}o&&mt(()=>{U(()=>v.in())})}}function Z(e,t,a,s,n){var f=s===1;if($t(t)){var r,p=!1;return kt(()=>{if(!p){var i=t({direction:f?"in":"out"});r=Z(e,i,a,s,n)}}),{abort:()=>{p=!0,r?.abort()},deactivate:()=>r.deactivate(),reset:()=>r.reset(),t:()=>r.t()}}if(a?.deactivate(),!t?.duration)return n(),{abort:P,deactivate:P,reset:P,t:()=>s};const{delay:L=0,css:m,tick:l,easing:x=Pt}=t;var c=[];if(f&&a===void 0&&(l&&l(0,1),m)){var _=lt(m(0,1));c.push(_,_)}var w=()=>1-s,v=e.animate(c,{duration:L,fill:"forwards"});return v.onfinish=()=>{v.cancel();var i=a?.t()??1-s;a?.abort();var o=s-i,u=t.duration*Math.abs(o),T=[];if(u>0){var S=!1;if(m)for(var h=Math.ceil(u/16.666666666666668),b=0;b<=h;b+=1){var y=i+o*x(b/h),I=lt(m(y,1-y));T.push(I),S||=I.overflow==="hidden"}S&&(e.style.overflow="hidden"),w=()=>{var $=v.currentTime;return i+o*x($/u)},l&&Rt(()=>{if(v.playState!=="running")return!1;var $=w();return l($,1-$),!0})}v=e.animate(T,{duration:u,fill:"forwards"}),v.onfinish=()=>{w=()=>s,l?.(s,1-s),n()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=P)},deactivate:()=>{n=P},reset:()=>{s===0&&l?.(1,0)},t:()=>w()}}const qt="";function Ht(...e){return Ot+qt+Mt(e[0],e[1])}function Ut(e,t){J(t,!0);let a=Nt(t,["$$slots","$$events","$$legacy"]);const s=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}]];At(e,It({name:"mail"},()=>a,{get iconNode(){return s},children:(n,f)=>{var r=W(),p=X(r);Ct(p,()=>t.children??P),k(n,r)},$$slots:{default:!0}})),Y()}const Kt=e=>e;function R(e,{delay:t=0,duration:a=400,easing:s=Kt}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:s,css:f=>`opacity: ${f*n}`}}function z(e){return--e*e*e*e*e+1}var Qt=G('<div class="mx-auto w-full max-w-md space-y-4"><h1 class="mb-6 text-center text-2xl font-bold"> </h1> <button type="button" class="btn flex w-full items-center justify-center preset-filled"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="mr-2"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg> </button> <button type="button" class="btn w-full preset-filled"><!> </button> <hr class="hr border-surface-950-50"/> <button type="button" class="btn w-full preset-outlined"> </button></div>');function Vt(e,t){J(t,!1);const a=()=>K(at,"$_",s),[s,n]=et();let f=st(t,"handleGoogleLogin",8),r=st(t,"handleGuestLogin",8);tt();var p=Qt(),L=g(p),m=g(L,!0);d(L);var l=N(L,2),x=N(g(l));d(l);var c=N(l,2),_=g(c);Ut(_,{class:"mr-2"});var w=N(_);d(c);var v=N(c,4),i=g(v,!0);d(v),d(p),q((o,u,T,S)=>{C(m,o),C(x,` ${u??""}`),C(w,` ${T??""}`),C(i,S)},[()=>(a(),U(()=>a()("login.header"))),()=>(a(),U(()=>a()("login.google"))),()=>(a(),U(()=>a()("login.email"))),()=>(a(),U(()=>a()("login.guest")))]),E("click",l,function(...o){f()?.apply(this,o)}),E("click",c,function(...o){r()?.apply(this,o)}),E("click",v,function(...o){r()?.apply(this,o)}),k(e,p),Y(),n()}const vt=Lt({isLoggedIn:!1,loggedInMethod:null}),Wt=()=>{vt.set({isLoggedIn:!0,loggedInMethod:"guest"})};var Xt=G('<button type="button" class="btn flex h-20 items-center justify-center preset-filled text-lg svelte-cr0ai2"> </button>'),Dt=G('<div><h1 class="mb-6 text-center text-2xl font-bold"> </h1> <div class="grid grid-cols-2 gap-4"></div></div>'),Jt=G('<button type="button" class="btn flex h-20 items-center justify-center preset-filled text-lg svelte-cr0ai2"> </button>'),Yt=G('<div><div class="mb-6 flex items-center justify-between"><button type="button" class="btn preset-outlined">← Back</button> <h1 class="flex-1 text-center text-2xl font-bold"> </h1> <div class="w-16"></div></div> <div class="grid grid-cols-2 gap-4"></div></div>'),Zt=G('<div><button type="button" class="btn preset-outlined">← Back</button> <!></div>');function te(e,t){J(t,!1);const a=()=>K(Ft,"$displaySettings",n),s=()=>K(at,"$_",n),[n,f]=et();let r=Tt("language");function p(){console.log("Google login clicked")}function L(){console.log("Guest login clicked"),Wt()}function m(i){ot(i),B(r,"none"),setTimeout(()=>{B(r,"level")},300)}function l(i){it(i),console.log("Selected language:",a().language,"Level:",a().level),B(r,"none"),setTimeout(()=>{B(r,"login")},300)}function x(i){B(r,"none"),setTimeout(()=>{B(r,i),ot(""),it("")},300)}tt();var c=W(),_=X(c);{var w=i=>{var o=Dt(),u=g(o),T=g(u,!0);d(u);var S=N(u,2);nt(S,5,()=>Et,h=>h,(h,b)=>{var y=Xt(),I=g(y,!0);d(y),q($=>C(I,$),[()=>s()(`language.${M(b)}`)]),E("click",y,()=>m(M(b))),k(h,y)}),d(S),d(o),q(h=>C(T,h),[()=>s()("language.select")]),j(1,o,()=>R,()=>({duration:300,easing:z})),j(2,o,()=>R,()=>({duration:300,easing:z})),k(i,o)},v=i=>{var o=W(),u=X(o);{var T=h=>{var b=Yt(),y=g(b),I=g(y),$=N(I,2),F=g($,!0);d($),St(2),d(y);var H=N(y,2);nt(H,5,()=>Gt,O=>O,(O,rt)=>{var Q=Jt(),ft=g(Q,!0);d(Q),q(dt=>C(ft,dt),[()=>s()(`level.label${M(rt)}`)]),E("click",Q,()=>l(M(rt))),k(O,Q)}),d(H),d(b),q(O=>C(F,O),[()=>s()("level.header")]),E("click",I,()=>x("language")),j(1,b,()=>R,()=>({duration:300,easing:z})),j(2,b,()=>R,()=>({duration:300,easing:z})),k(h,b)},S=h=>{var b=W(),y=X(b);{var I=$=>{var F=Zt(),H=g(F),O=N(H,2);Vt(O,{handleGoogleLogin:p,handleGuestLogin:L}),d(F),E("click",H,()=>x("level")),j(1,F,()=>R,()=>({duration:300,easing:z})),j(2,F,()=>R,()=>({duration:300,easing:z})),k($,F)};D(y,$=>{M(r)==="login"&&$(I)},!0)}k(h,b)};D(u,h=>{M(r)==="level"?h(T):h(S,!1)},!0)}k(i,o)};D(_,i=>{M(r)==="language"?i(w):i(v,!1)})}k(e,c),Y(),f()}var ee=G('<div class="mb-6 flex items-center justify-between"><button type="button" class="m-auto mx-auto btn preset-outlined-primary-500"> </button></div>'),ae=G('<div class="mx-auto max-w-md p-6"><!></div>');function ue(e,t){J(t,!1);const a=()=>K(vt,"$authStore",n),s=()=>K(at,"$_",n),[n,f]=et();tt();var r=ae(),p=g(r);{var L=l=>{var x=ee(),c=g(x),_=g(c,!0);d(c),d(x),q(w=>C(_,w),[()=>s()("navigation.generateStory")]),E("click",c,()=>Bt(Ht("/story"))),k(l,x)},m=l=>{te(l,{})};D(p,l=>{a().isLoggedIn?l(L):l(m,!1)})}d(r),k(e,r),Y(),f()}export{ue as component};
